<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="scripts.js"></script>
    <script>
        window.onload = function () {
            loadDoc('setup/get_topics', 'GET', 'topics_tbl');
            const top_form = document.getElementById("topic_form");
            top_form.addEventListener("submit", (event) => {
                event.preventDefault();
            })

            loadDoc('setup/get_sources', 'GET', 'sources_tbl');
            const src_form = document.getElementById("source_form");
            src_form.addEventListener("submit", (event) => {
                event.preventDefault();
            })
        };
    </script>
</head>

<body>
    <!-- topics -->
    <div>
        <h3>Topics</h3>
    </div>
    <table id="topics_tbl" border="1px">
        <tr>
            <th>topic_id</th>
            <th>topic</th>
        </tr>
    </table>
    <br />
    <div>
        <form id="topic_form" action="http://localhost:5000/api/v1.0/setup/add_topic" 
                method="post"
                onsubmit="return submitForm(this, 'topics_tbl');">
            <label for="topic_name">New topic:</label><br>
            <input type="text" id="topic_name" name="topic_name" value=""><br>
            <input type="submit" value="Submit">
        </form>
    </div>
    <hr />

    <!-- sources -->
    <div>
        <h3>Sources</h3>
    </div>
    <table id="sources_tbl" border="1px">
        <tr>
            <th>source_id</th>
            <th>name</th>
            <th>URL</th>
            <th>location</th>
            <th>template</th>
            <th>api_key</th>
        </tr>
    </table>
    <br />
    <div>
        <form id="source_form" action="http://localhost:5000/api/v1.0/setup/add_source" 
                method="post" 
                onsubmit="return submitForm(this, 'sources_tbl');">
            <label for="name">Name:</label><br>
            <input type="text" id="name" name="name" value=""><br>
            <label for="URL">URL:</label><br>
            <input type="text" id="URL" name="URL" value=""><br>
            <label for="URL">Location:</label><br>
            <input type="text" id="location" name="location" value=""><br>
            <label for="template">Template:</label><br>
            <input type="text" id="template" name="template" value=""><br>
            <label for="api_key">api_key:</label><br>
            <input type="text" id="api_key" name="api_key" value=""><br>
            <label for="api_key_val">api_key_val:</label><br>
            <input type="password" id="api_key_val" name="api_key_val" value=""><br>
            <input type="submit" value="Submit">
        </form>
    </div>
</body>
</html>